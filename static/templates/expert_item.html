<!--expert_item.html-->

{{ template "header.html" . }}

<div class="container">
    <div class="card shadow">
        <div class="card-header">
            <div class="d-inline-block">
                <h3 class="panel-title">Психолог {{ .expert.username }}</h3>
            </div>

            <div class="d-inline-block float-right">
                <button type="button" class="btn btn-secondary" onclick="javascript:history.back()">Назад</button>
            </div>
        </div>
        <div class="card-body">
            <span class="bottom-line d-block mx-auto mt-3 mb-4"></span>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">ID</div>
                <div class="col-9 pl-4">{{ .expert.id }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Ім'я</div>
                <div class="col-9 pl-4">{{ .expert.username }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Стать</div>
                <div class="col-9 pl-4">
                    {{ with (eq .expert.gender "male") }}<span class="badge badge-pill badge-info">Чол.</span>{{ end }}
                    {{ with (eq .expert.gender "female") }}<span class="badge badge-pill badge-primary">Жін.</span>{{ end }}
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Телефон</div>
                <div class="col-9 pl-4">{{ .expert.phone }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Email</div>
                <div class="col-9 pl-4">{{ .expert.email }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Пароль</div>
                <div class="col-9 pl-4">
                    <p class="alert" id="changePasswordBlock-{{ .expert.id }}" role="alert"><p>
                    <div class="input-group mb-3">
                        <input type="password" class="form-control" id="pwd-{{ .expert.id }}">
                        <div class="input-group-append">
                            <a class="btn btn-secondary" data-expert-id="{{ .expert.id }}" onclick="changePasswordExpertAPI(this)" role="button">Змінити пароль</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Освіта</div>
                <div class="col-9 pl-4">{{ .expert.education }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Спеціалізації</div>
                <div class="col-9 pl-4">
                    {{ range .expert.specializations}}
                        <div>
                            <span class="badge badge-pill badge-primary">{{ . }}</span>
                        </div>
                    {{ end }}
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Статус</div>
                <div class="col-9 pl-4">
                    {{ $status := .expert.status }}
                    {{ with (eq $status "on_review") }}<td class="text-center"><span class="badge badge-pill badge-warning">На модерації</span></td>{{ end }}
                    {{ with (eq $status "blocked") }}<td class="text-center"><span class="badge badge-pill badge-danger">Заблокований</span></td>{{ end }}
                    {{ with (eq $status "active") }}<td class="text-center"><span class="badge badge-pill badge-success">Активний</span></td>{{ end }}
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Заявок в роботі</div>
                <div class="col-9 pl-4">
                    <div class="d-inline-block">
                        {{ .expert.processing_count }}
                    </div>
                    <div class="d-inline-block">
                        <a class="badge badge-pill badge-info" href="/admin/requisition?expert_id={{ .expert.id }}&status=processing" role="button">Детальніше</a>
                    </div>
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Заявок завершено</div>
                <div class="col-9 pl-4">
                    <div class="d-inline-block">
                        {{ .expert.completed_count }}
                    </div>
                    <div class="d-inline-block">
                        <a class="badge badge-pill badge-info" href="/admin/requisition?expert_id={{ .expert.id }}&status=completed" role="button">Детальніше</a>
                    </div>
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Відгуків</div>
                <div class="col-9 pl-4">
                    <div class="d-inline-block">
                        {{ .expert.review_count }}
                    </div>
                    <div class="d-inline-block">
                        <a class="badge badge-pill badge-info" href="/admin/review?expert_id={{ .expert.id }}" role="button">Детальніше</a>
                    </div>
                </div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Дата реєстрації</div>
                <div class="col-9 pl-4">{{ .expert.created_at }}</div>
            </div>
            <div class="row my-2 mx-auto">
                <div class="col-3 text-right border-right border-dark">Документи</div>
                <div class="col-9 pl-4">
                    <div class="row">
                        <div class="col-md-9">
                            <div id="mdb-lightbox-ui"></div>
                            <div class="mdb-lightbox">
                                {{ range .expert.document_urls}}
                                    <figure class="col-md-12">
                                        <a href="{{ . }}">
                                            <img alt="picture" src="{{ . }}" class="img-fluid">
                                        </a>
                                    </figure>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-right">
                <a class="btn btn-danger" data-expert-id="{{ .expert.id }}" onclick="deleteExpertAPI(this)" role="button">Видалити</a>
                <a class="btn btn-secondary {{ if (eq .expert.status "blocked")}} disabled{{ end }}" data-expert-id="{{ .expert.id }}" onclick="blockExpertAPI(this)" role="button">Блокувати</a>
                <a class="btn btn-success {{ if (eq .expert.status "active")}} disabled{{ end }}" data-expert-id="{{ .expert.id }}" onclick="activateExpertAPI(this)" role="button">Активувати</a>
            </div>
        </div>
    </div>
</div>

{{ template "footer.html" . }}
